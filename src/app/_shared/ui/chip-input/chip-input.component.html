<div class="form-group mb-2">
  @if (label) {
  <label for="input">{{ label }}</label>
  }
  <div class="d-flex flex-column gap-2">
    <input
      id="input"
      name="input"
      type="text"
      class="form-control"
      placeholder="{{ placeholder }}"
      #instance="ngbTypeahead"
      (ngModelChange)="inputChange($event)"
      (keyup.,)="editable ? add() : null"
      (keyup.enter)="editable ? add() : null"
      (selectItem)="selectModel($event)"
      (focus)="focus$.next($any($event).target.value)"
      (click)="click$.next($any($event).target.value)"
      [formControl]="formCtrl"
      [ngbTypeahead]="search"
      [editable]="editable"
      [resultFormatter]="formatter"
      [inputFormatter]="formatter"
      [value]="modelInput"
    />
    @if (!inputValid) {
    <small class="text-danger">{{ validationErrorText }}</small>
    }
    <div class="d-flex flex-row flex-wrap gap-2">
      @if (this._models.length > 0) { @for (model of this._models; track model) {
      <button type="button" class="btn btn-primary btn-sm mb-2" (click)="remove(model)">
        {{ formatter(model) }}
        <bi name="x-circle-fill" />
      </button>
      } }
    </div>
  </div>
</div>
